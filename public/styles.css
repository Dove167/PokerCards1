* { box-sizing: border-box; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; color: #111; background: #fafafa; }
header { background: #0b5ed7; color: #fff; padding: 12px 16px; }
header h1 { margin: 0 0 8px; font-size: 20px; }
nav a { color: #fff; margin-right: 12px; text-decoration: none; }
nav a.active { text-decoration: underline; }
main { padding: 16px; }

.btn { display: inline-block; background: #0b5ed7; color: #fff; padding: 8px 12px; border-radius: 6px; text-decoration: none; border: none; cursor: pointer; }
.btn:hover { background: #094bad; }
.btn.danger { background: #c0392b; }
.btn.danger:hover { background: #962d22; }
.btn.success { background: #16a34a; }
.btn.success:hover { background: #12873d; }

.card-panel { background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; max-width: 800px; }
.card-face { background: #111; color: #0ef; padding: 24px; border-radius: 8px; margin-bottom: 12px; }
.card-name { font-size: 28px; font-weight: 700; letter-spacing: 0.5px; }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
.card-tile { background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; }
.card-tile h3 { margin: 0 0 6px; font-size: 18px; }
.card-tile .concept { color: #555; margin-bottom: 8px; }
.actions-row { display: flex; gap: 8px; margin-top: 10px; }

.lesson { background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; max-width: 900px; }
.lesson .markdown pre { background: #0a0a0a; color: #e5e7eb; padding: 12px; overflow-x: auto; border-radius: 6px; }
.lesson .markdown code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
.stats ul { list-style: none; padding: 0; }
.stats li { margin: 6px 0; }

/* Playing card visuals */
.card-flip { perspective: 1000px; display: inline-block; }
.card-flip-inner { position: relative; width: 220px; height: 308px; transform-style: preserve-3d; transition: transform 0.6s; }
.card-flip:hover .card-flip-inner { transform: rotateY(180deg); }

.playing-card { position: absolute; inset: 0; width: 220px; height: 308px; background: #fff; border: 2px solid #111; border-radius: 12px; padding: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.15); backface-visibility: hidden; }
.playing-card.red { color: #c1121f; border-color: #c1121f; }
.playing-card.black { color: #111; }
.playing-card .corner { position: absolute; text-align: center; width: 36px; }
.playing-card .corner.tl { top: 8px; left: 8px; }
.playing-card .corner.br { bottom: 8px; right: 8px; transform: rotate(180deg); }
.playing-card .corner .rank { font-weight: 800; font-size: 18px; line-height: 1; }
.playing-card .corner .suit { font-size: 14px; text-transform: capitalize; }
.playing-card .pips { position: absolute; inset: 0; display: grid; place-items: center; padding: 40px; }
.playing-card .center-label { font-size: 12px; color: #444; padding: 4px 8px; background: #f3f4f6; border-radius: 6px; border: 1px solid #e5e7eb; }

/* Back side */
.playing-card.back { background: #111827; border-color: #111827; transform: rotateY(180deg); display: grid; place-items: center; }
.card-back-ascii { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; color: #0ef; font-size: 10px; line-height: 1.05; white-space: pre; padding: 8px; border-radius: 8px; background: #0b1220; box-shadow: inset 0 0 0 1px #0ef3; max-width: 95%; max-height: 95%; overflow: hidden; }

/* Suit icons */
.suit-icon { font-size: 22px; line-height: 1; }
.suit-hearts::before { content: "♥"; }
.suit-diamonds::before { content: "♦"; }
.suit-clubs::before { content: "♣"; }
.suit-spades::before { content: "♠"; }

/* Pip grid templates for numbers (simple central layout placeholder) */
.pips-grid { display: grid; gap: 6px; grid-template-columns: repeat(3, 1fr); align-content: center; justify-items: center; width: 100%; height: 100%; }
.pip { font-size: 20px; }
.pip.red { color: #c1121f; }
.pip.black { color: #111; }